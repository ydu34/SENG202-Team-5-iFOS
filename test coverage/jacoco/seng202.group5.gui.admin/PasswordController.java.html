<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>PasswordController.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">SENG202-Team-5</a> &gt; <a href="index.source.html" class="el_package">seng202.group5.gui.admin</a> &gt; <span class="el_source">PasswordController.java</span></div><h1>PasswordController.java</h1><pre class="source lang-java linenums">package seng202.group5.gui.admin;

import com.jfoenix.controls.JFXButton;
import javafx.event.ActionEvent;
import javafx.fxml.FXML;
import javafx.scene.text.Text;
import javafx.stage.Stage;
import seng202.group5.gui.GeneralController;

/**
 * A controller for managing the password feature in the application
 *
 * @author Shivin Gaba
 */

<span class="nc" id="L16">public class PasswordController extends GeneralController {</span>

    @FXML
    private JFXButton cancelButton;

    @FXML
    private JFXButton numberOne;

    @FXML
    private JFXButton numberTwo;

    @FXML
    private JFXButton numberThree;
    @FXML
    private JFXButton numberFour;
    @FXML
    private JFXButton numberFive;

    @FXML
    private JFXButton numberSix;

    @FXML
    private JFXButton numberSeven;

    @FXML
    private JFXButton numberEight;

    @FXML
    private JFXButton numberNine;

    @FXML
    private JFXButton numberZero;

    @FXML
    private JFXButton confirmButton;

    @FXML
    private Text warningText;

    @FXML
    private Text passwordInput1;

    @FXML
    private Text passwordInput2;

    @FXML
    private Text passwordInput3;

    @FXML
    private Text passwordInput4;


    private GeneralController source;
    private ActionEvent origin;


    private IntArgReturnsBool passwordChecker;

    /**
     * The string used to check the validity of the password
     */
<span class="nc" id="L77">    private String input = &quot;&quot;;</span>

    /**
     * This function closes the password pop up screen when clicked on cancel
     */
    public void closeScreen() {
<span class="nc" id="L83">        ((Stage) cancelButton.getScene().getWindow()).close();</span>
<span class="nc" id="L84">    }</span>


    /**
     * The function sets the text fields to  &quot;*&quot; when the buttons are clicked on.
     */

    private void updatePasswordText() {

<span class="nc bnc" id="L93" title="All 2 branches missed.">        if (input.length() == 0) {</span>
<span class="nc" id="L94">            passwordInput1.setText(&quot;  *&quot;);</span>

        }
<span class="nc bnc" id="L97" title="All 2 branches missed.">        if (input.length() == 1) {</span>
<span class="nc" id="L98">            passwordInput2.setText(&quot;  *&quot;);</span>

        }
<span class="nc bnc" id="L101" title="All 2 branches missed.">        if (input.length() == 2) {</span>
<span class="nc" id="L102">            passwordInput3.setText(&quot; *&quot;);</span>

        }
<span class="nc bnc" id="L105" title="All 2 branches missed.">        if (input.length() == 3) {</span>
<span class="nc" id="L106">            passwordInput4.setText(&quot; *&quot;);</span>
        }

<span class="nc bnc" id="L109" title="All 2 branches missed.">        if (input.length() &gt; 3) {</span>
<span class="nc" id="L110">            warningText.setText(&quot;Password must be of length 4&quot;);</span>
        }
<span class="nc" id="L112">    }</span>

    /**
     * Appends 0 to the password string and checks if the password it still of the valid length updates the warning text accordingly
     */

    public void addZero() {
<span class="nc" id="L119">        warningText.setText(&quot; &quot;);</span>
<span class="nc" id="L120">        updatePasswordText();</span>
<span class="nc" id="L121">        addNumber((numberZero.getText()));</span>
<span class="nc" id="L122">        checkPassword();</span>
<span class="nc" id="L123">    }</span>

    /**
     * Appends 1 to the password string and checks if the password it still of the valid length updates the warning text accordingly
     */
    public void addOne() {

<span class="nc" id="L130">        warningText.setText(&quot; &quot;);</span>
<span class="nc" id="L131">        updatePasswordText();</span>
<span class="nc" id="L132">        addNumber((numberOne.getText()));</span>
<span class="nc" id="L133">        checkPassword();</span>

<span class="nc" id="L135">    }</span>

    /**
     * Appends 2 to the password string and checks if the password it still of the valid length updates the warning text accordingly
     */
    public void addTwo() {

<span class="nc" id="L142">        warningText.setText(&quot; &quot;);</span>
<span class="nc" id="L143">        updatePasswordText();</span>
<span class="nc" id="L144">        addNumber((numberTwo.getText()));</span>
<span class="nc" id="L145">        checkPassword();</span>

<span class="nc" id="L147">    }</span>

    /**
     * Appends 3 to the password string and checks if the password it still of the valid length updates the warning text accordingly
     */
    public void addThree() {

<span class="nc" id="L154">        warningText.setText(&quot; &quot;);</span>
<span class="nc" id="L155">        updatePasswordText();</span>
<span class="nc" id="L156">        addNumber((numberThree.getText()));</span>
<span class="nc" id="L157">        checkPassword();</span>

<span class="nc" id="L159">    }</span>

    /**
     * Appends 4 to the password string and checks if the password it still of the valid length updates the warning text accordingly
     */
    public void addFour() {

<span class="nc" id="L166">        warningText.setText(&quot; &quot;);</span>
<span class="nc" id="L167">        updatePasswordText();</span>
<span class="nc" id="L168">        addNumber((numberFour.getText()));</span>
<span class="nc" id="L169">        checkPassword();</span>

<span class="nc" id="L171">    }</span>

    /**
     * Appends 5 to the password string and checks if the password it still of the valid length updates the warning text accordingly
     */
    public void addFive() {

<span class="nc" id="L178">        warningText.setText(&quot; &quot;);</span>
<span class="nc" id="L179">        updatePasswordText();</span>
<span class="nc" id="L180">        addNumber((numberFive.getText()));</span>
<span class="nc" id="L181">        checkPassword();</span>

<span class="nc" id="L183">    }</span>

    /**
     * Appends 6 to the password string and checks if the password it still of the valid length updates the warning text accordingly
     */

    public void addSix() {

<span class="nc" id="L191">        warningText.setText(&quot; &quot;);</span>
<span class="nc" id="L192">        updatePasswordText();</span>
<span class="nc" id="L193">        addNumber((numberSix.getText()));</span>
<span class="nc" id="L194">        checkPassword();</span>

<span class="nc" id="L196">    }</span>

    /**
     * Appends 7 to the password string and checks if the password it still of the valid length updates the warning text accordingly
     */

    public void addSeven() {

<span class="nc" id="L204">        warningText.setText(&quot; &quot;);</span>
<span class="nc" id="L205">        updatePasswordText();</span>
<span class="nc" id="L206">        addNumber((numberSeven.getText()));</span>
<span class="nc" id="L207">        checkPassword();</span>

<span class="nc" id="L209">    }</span>

    /**
     * Appends 8 to the password string and checks if the password it still of the valid length updates the warning text accordingly
     */

    public void addEight() {

<span class="nc" id="L217">        warningText.setText(&quot; &quot;);</span>
<span class="nc" id="L218">        updatePasswordText();</span>
<span class="nc" id="L219">        addNumber((numberEight.getText()));</span>
<span class="nc" id="L220">        checkPassword();</span>

<span class="nc" id="L222">    }</span>

    /**
     * Appends 9 to the password string and checks if the password it still of the valid length updates the warning text accordingly
     */

    public void addNine() {

<span class="nc" id="L230">        warningText.setText(&quot; &quot;);</span>
<span class="nc" id="L231">        updatePasswordText();</span>
<span class="nc" id="L232">        addNumber((numberNine.getText()));</span>
<span class="nc" id="L233">        checkPassword();</span>

<span class="nc" id="L235">    }</span>


    /**
     * This function is called when the confirm button is clicked which checks if th user has entered a valid password or not and
     * then displays the warning accordingly.
     */


    public void checkPassword() {
<span class="nc bnc" id="L245" title="All 2 branches missed.">        if (input.length() == 4) {</span>
<span class="nc bnc" id="L246" title="All 2 branches missed.">            if (passwordChecker.check(input.hashCode())) {</span>
<span class="nc" id="L247">                source.launchAdminScreen(origin);</span>
<span class="nc" id="L248">                closeScreen();</span>
            } else {
<span class="nc" id="L250">                warningText.setText(&quot;Incorrect Password&quot;);</span>
<span class="nc" id="L251">                clearPassword();</span>
            }
        }
<span class="nc" id="L254">    }</span>

    /**
     * Takes a number and adds it to the password, for checking against the set password, if the current passwords length
     * is greater than 4, then no other number is added to the password.
     *
     * @param num the number to be added to the password.
     */
    private void addNumber(String num) {
<span class="nc bnc" id="L263" title="All 2 branches missed.">        if (input.length() &lt; 4) {</span>
<span class="nc" id="L264">            input += num;</span>
        } else {
<span class="nc" id="L266">            warningText.setText(&quot;Password must be of length 4&quot;);</span>
        }
<span class="nc" id="L268">    }</span>

    /**
     * This function clears the password that was in progress and lets the user enter the password again
     */

    public void clearPassword() {
<span class="nc" id="L275">        passwordInput1.setText(&quot;&quot;);</span>
<span class="nc" id="L276">        passwordInput2.setText(&quot;&quot;);</span>
<span class="nc" id="L277">        passwordInput3.setText(&quot;&quot;);</span>
<span class="nc" id="L278">        passwordInput4.setText(&quot;&quot;);</span>
<span class="nc" id="L279">        input = &quot;&quot;;</span>
<span class="nc" id="L280">    }</span>

    public void setSource(GeneralController controller) {
<span class="nc" id="L283">        source = controller;</span>
<span class="nc" id="L284">    }</span>

    public void setEvent(ActionEvent event) {
<span class="nc" id="L287">        origin = event;</span>
<span class="nc" id="L288">    }</span>

    public void setPasswordChecker(IntArgReturnsBool checker) {
<span class="nc" id="L291">        passwordChecker = checker;</span>
<span class="nc" id="L292">    }</span>

    public interface IntArgReturnsBool {

        boolean check(int passwordHash);
    }


}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.4.201905082037</span></div></body></html>